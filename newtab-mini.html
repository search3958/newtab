
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="https://search3958.github.io/favicon/newtab.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Work+Sans&family=Zen+Kaku+Gothic+Antique&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <title>Newtab</title>
  </head>
  <body>
<div class="shortcut">
  <div class="links linkhistory">
</div>

<div class="linktext">Google</div>
  <div class="links">
<link-box name="Gmail" bg="var(--iconbg)" url="https://mail.google.com/" icon="gmail.webp"></link-box>
<link-box name="Keep" bg="var(--iconbg)" url="https://keep.google.com/" icon="keep.webp"></link-box>
<link-box name="Classroom" bg="var(--iconbg)" url="https://classroom.google.com/" icon="classroom.webp"></link-box>
<link-box name="Youtube" bg="var(--iconbg)" url="https://www.youtube.com/" icon="youtube.webp"></link-box>
<link-box name="Document" bg="var(--iconbg)" url="https://docs.google.com/document/" icon="document.webp"></link-box>
<link-box name="Slide" bg="var(--iconbg)" url="https://docs.google.com/presentation/" icon="slide.webp"></link-box>
<link-box name="Spreadsheet" bg="var(--iconbg)" url="https://docs.google.com/spreadsheets/" icon="spreadsheet.webp"></link-box>
<link-box name="Translate" bg="var(--iconbg)" url="https://translate.google.com/" icon="translate.webp"></link-box>
<link-box name="Gemini" bg="var(--iconbg)" url="https://gemini.google.com/" icon="gemini.webp"></link-box>
<link-box name="リモート" bg="var(--iconbg)" url="https://remotedesktop.google.com/" icon="remotedesktop.webp"></link-box>
<link-box name="ドライブ" bg="var(--iconbg)" url="https://drive.google.com/" icon="drive.webp"></link-box>
<link-box name="Product" bg="#fff9" url="https://about.google/products/" icon="products.webp"></link-box>
</div>

<div class="linktext">学習と作業効率化</div>
  <div class="links">
    <link-box name="Monoxer" bg="#0073ffc9" url="https://app.monoxer.com/" icon="monoxer.webp"></link-box>
<link-box name="ChatGPT" bg="#000000c9" url="https://chat.openai.com/" icon="chatgpt.webp"></link-box>
<link-box name="Copilot" bg="var(--iconbg)" url="https://copilot.microsoft.com/" icon="copilot.webp"></link-box>
<link-box name="Claude" bg="var(--iconbg)" url="https://claude.ai/" icon="claude.webp"></link-box>
<link-box name="Canva" bg="var(--iconbg)" url="https://www.canva.com/" icon="canva.webp"></link-box>
<link-box name="Microsoft 365" bg="var(--iconbg)" url="https://www.microsoft.com/microsoft-365" icon="microsodt.webp"></link-box>
<link-box name="TurboWarp" bg="var(--iconbg)" url="https://turbowarp.org/" icon="turbowarp.webp"></link-box>
<link-box name="Kahoot" bg="#1b00a8c9" url="https://kahoot.it/" icon="kahoot.webp"></link-box>
<link-box name="Discord" bg="#5618ffc9" url="https://discord.com/app" icon="discord.webp"></link-box>
</div>

<div class="linktext">開発</div>
  <div class="links">
    <link-box name="Firebase" bg="var(--iconbg)" url="https://firebase.google.com/" icon="firebase.webp"></link-box>
<link-box name="Codepen" bg="#000000c9" url="https://codepen.io/" icon="codepen.webp"></link-box>
<link-box name="Figma" bg="var(--iconbg)" url="https://www.figma.com/" icon="figma.webp"></link-box>
<link-box name="GitHub" bg="var(--iconbg)" url="https://github.com/" icon="github.webp"></link-box>
<link-box name="AdSense" bg="var(--iconbg)" url="https://www.google.com/adsense/" icon="adsense.webp"></link-box>
<link-box name="Tools" bg="var(--iconbg)" url="https://search3958.github.io/tools" icon="tools.webp"></link-box>
<link-box name="Fonts" bg="var(--iconbg)" url="https://fonts.google.com/" icon="fonts.webp"></link-box>
</div>

<div class="linktext">ショッピング</div>
  <div class="links">
    <link-box name="Amazon" bg="#fff9" url="https://www.amazon.co.jp/" icon="amazon.webp"></link-box>
<link-box name="AliExpress" bg="var(--iconbg)" url="https://www.aliexpress.com/" icon="aliexpress.webp"></link-box>
<link-box name="Wish" bg="#30dd73c9" url="https://www.wish.com/" icon="wish.webp"></link-box>
<link-box name="Mercari" bg="var(--iconbg)" url="https://www.mercari.com/jp/" icon="mercari.webp"></link-box>
<link-box name="Yahoo!フリマ" bg="var(--iconbg)" url="https://paypayfleamarket.yahoo.co.jp/" icon="pfm.webp"></link-box>
</div>

<div class="linktext">エンターテイメント</div>
  <div class="links">
    <link-box name="Scratch" bg="var(--iconbg)" url="https://scratch.mit.edu/" icon="scratch.webp"></link-box>
<link-box name="poki" bg="#fff9" url="https://poki.com/" icon="poki.webp"></link-box>
<link-box name="小红书" bg="var(--iconbg)" url="https://www.xiaohongshu.com/explore" icon="xiaohongshu.webp"></link-box>
<link-box name="Instagram" bg="var(--iconbg)" url="https://www.instagram.com/" icon="instagram.webp"></link-box>
<link-box name="thinkSocial" bg="var(--iconbg)" url="https://sns.thinking-grp.org/" icon="thinking.webp"></link-box>
<link-box name="Netflix" bg="var(--iconbg)" url="https://www.netflix.com/" icon="netflix.webp"></link-box>
<link-box name="Weverse" bg="#27ffbfc9" url="https://weverse.io/" icon="weverse.webp"></link-box>
<link-box name="Prime Video" bg="#0398ffc9" url="https://www.amazon.co.jp/Prime-Video/" icon="primevideo.webp"></link-box>
<link-box name="Spotify" bg="var(--iconbg)" url="https://www.spotify.com/" icon="spotify.webp"></link-box>
</div>

</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/jszip@3.7.1/dist/jszip.min.js"></script>
<style>*{
	font-family: "Work Sans", "Zen Kaku Gothic Antique", "Inter", sans-serif;
	font-weight: 400;
  font-style: normal;
  line-height: 1.5;
  text-wrap-mode: nowrap;
}

:root {
	--textboxbg: #fff5;
	--textcolor: #000;
	--textcolor-o: #0007;
	--searchbtn: #0f0f0f;
	--searchbtncolor: #b3b3b3;
	--anm: 0.2s ease;
	--iconbg: #fff9;
	interpolate-size: allow-keywords;
}

body {
	margin: 0;
	height: calc(100vh + 2px);
}

::-webkit-scrollbar {
	display: none
  }

.smooth {
	mask-image: paint(smooth-corners);
	mask-size: cover;
}

ins.adsbygoogle {
    display: flex !important;
    justify-content: center;
}

.hoverscale{
	transition: all 0.2s cubic-bezier(0,0,0,1);
	scale:1;
}
.hoverscale:hover{
	scale:0.93;
}
.hoverscale:active{
	scale:0.8;
}

    #lensFx_canvas {
      position: fixed;
      left: 50%;
      top: calc(50% - 12px);
      transform: translate(-50%, -50%);
      width: 356px;
      height: 76px;
      border-radius: 38px;
      pointer-events: none;
		transition:width 0.6s cubic-bezier(0.33, 0.14, 0, 1);

	z-index:-2;
	}
	
	#lensFx_canvas.active{
		width:576px;
	}
.search-container {
	display: flex;
	align-items: center;
	backdrop-filter: blur(2px);
	background: var(--textboxbg);
	border-radius: 100px;
	padding: 8px;
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50px);
	box-shadow: inset 0px -5px 2px -3px #00000020, inset 0px 5px 2px -3px #ffffff88, inset 0px 0px 14px 9px #ffffff33;
}

#searchInput{
	margin:0px;
	width:220px;
	margin-right: 80px;
}
input {
	background: transparent;
	border: none;
	color: var(--textcolor);
	font-size: 24px;
	padding: 12px 20px;
	width: 300px;
	outline: none;
	transition:width 0.6s cubic-bezier(0.33, 0.14, 0, 1);
}

#searchInput.active{
	width: 440px;
}

input::-webkit-input-placeholder {
	color: var(--textcolor-o);
}

#searchButton {
	background: var(--searchbtn);
	mix-blend-mode: overlay;
	border: none;
	padding: 12px 24px;
	border-radius: 100px;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.3s ease;
	position: fixed;
	top: 50%;
	left: calc(50% + 127px);
	transform: translate(-50%, -35.5px);
	--smooth-corners: 7, 4;
	color: var(--searchbtncolor);
	transition: all var(--anm),left 0.6s cubic-bezier(0.33, 0.14, 0, 1);
	box-shadow: inset 0px -5px 2px -2px #000000, inset 0px 5px 2px -3px #ffffff3d;
}
#searchButton.active {
	left: calc(50% + 237px);
}

#searchButton:hover {
	background: #222;
}

svg {
	width: 24px;
	height: 24px;
	fill: rgba(255, 255, 255, 0.8);
}

.history{
    position: fixed;
	top: calc(50% + 63px);
	width:40px;
	height:8px;
	left: 50%;
	transform: translate(-50%, -50%);
	display:flex;
	backdrop-filter: blur(10px);
	background: var(--textboxbg);
	border-radius: 100px;
	gap:0px;
	padding:16px 24px;
	padding-bottom:14px;
	padding-right: 14px;
	transition: all 0.4s cubic-bezier(0.25, 0.09, 0, 1);
	justify-content: center; /* 横方向の中央 */
  align-items: center;     /* 縦方向の中央 */
  overflow:hidden;
  white-space:nowrap;
}
.history:hover{
	top: calc(50% + 66px);
	width:fit-content;
	height:fit-content;
}
.historytext{
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	transition:all 0.4s ease;
	filter:blur(0px);
	opacity:1;
	white-space:nowrap;
}
.history:hover > .historytext{
	filter:blur(8px);
	opacity:0;
}

#clearButton{
	filter:blur(0px);
	opacity:0;
}
.history:hover > #clearButton{
	filter:blur(0px);
	opacity:1;
}

#historyList{
	display:flex;
	gap:16px;
	transition:all 0.4s ease;
	opacity:0;
	filter:blur(8px);
	white-space:nowrap;
}
.history:hover > #historyList{
	filter:blur(0px);
	opacity:1;
}
.linkhistory {
    background: #fff3;
    width: fit-content;
    padding: 27px 24px;
    padding-bottom: 0px;
    border-radius: 79px;
    margin: 0 auto;
    margin-top: -9px;
    scale: 0.7;
    margin-bottom: -31px;
}
.empty-history {
  color: var(--textcolor-o);
  font-size: 14px;
  white-space: nowrap;
  padding: 40px;
}
.history:hover .empty-history {
  display: none;
}
a{
	color: #000;
    text-decoration: none !important;
}
#clearButton{
	background:none;
	border:none;
}
.deleteicon{
	fill:#000!important;
}
.bg{
	pointer-events: none;
	background:#fff0;
	backdrop-filter: blur(0);
	transition: background 0.4s ease, backdrop-filter 0.4s ease;
	height:100vh;
	width:100vw;
	position:fixed;
	top:0px;
	right:0px;

}
.bg.active{
	pointer-events: auto;
	background:#fff3;
	backdrop-filter: blur(32px);
}

.shortcut{
	overflow: scroll;
	transition: all 0.4s cubic-bezier(.34,0,.03,1.01), height 0s ease;
	height:100vh;
	width:100vw;
	position:fixed;
	right:0px;
	pointer-events: auto;
	top:0px;
	filter:blur(0px);
	opacity: 1;
}
img{
	height:110px;
	width:110px;
	padding:0px;
	margin:0px;
	transition: all 0.4s cubic-bezier(0,0,0,1);
	scale:1;
	transform: translate3d(0, 0, 40px);
	filter: drop-shadow(0px 0px 0px #0000);
}
img:hover{
	scale:1.1;
	transform: translate3d(var(--moveX), var(--moveY), 60px);
	filter: drop-shadow(0px 5px 10px #0003);
}
.icon-wrapper{
	height:110px;
	padding:0px;
	width:fit-content;
	border-radius:30px;
	-webkit-mask-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg"><path d="M 0 80 C 0 28, 28 0, 80 0 S 160 28, 160 80, 132 160 80 160, 0 132, 0 80" fill="white"/></svg>');
	mask-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 160 160" xmlns="http://www.w3.org/2000/svg"><path d="M 0 80 C 0 28, 28 0, 80 0 S 160 28, 160 80, 132 160 80 160, 0 132, 0 80" fill="white"/></svg>');
	transition: all 0.4s cubic-bezier(0,0,0,1);
	scale:1;
	mask-repeat: no-repeat;
	mask-size: cover;
	-webkit-mask-repeat: no-repeat;
	-webkit-mask-size: cover;
	transform-style: preserve-3d;
	transform: translate3d(0, 0, 0) rotateX(0deg) rotateY(0deg);
}

small{
	color:var(--textcolor-o);
}
.icon-wrapper:hover {
	transform: translate3d(var(--moveX), var(--moveY), 20px) rotateX(var(--rotateX)) rotateY(var(--rotateY));
	scale:1.1;
}
.icon-wrapper:active {
	scale:0.95;
}
.linkbox-label{
    width: 110px;
    text-align: center;
	margin-top:8px;
}
.linkbox{
	width:110px;
	transform-style: preserve-3d;
	perspective: 800px;
	transform: translate3d(0, 0, 0);
}
link-box {
    width: fit-content;
    display: block;
}
.links {
    display: flex
;
    flex-wrap: wrap;
    justify-content: center;
}
.linkbox-anchor{
	width: 110px;
    display: block;
	margin: 8px 12px;
	transition: transform 0.2s ease;
	transform-style: preserve-3d;
}
.linkbox-anchor:hover {
	transform: rotateX(var(--rotateX)) rotateY(var(--rotateY));
}
.linktext {
    text-align: center;
    font-size: 24px;
    margin: 16px 0px;
}
h3 {
    margin: 0px;
    margin-bottom: 8px;
}
</style>
<script>
(function () {
  const iconsMap = {};
  let iconsReady = false;
  const iconWaiters = [];

  const zipUrl = 'https://search3958.github.io/newtab/lsr/icons.zip';

  async function loadIcons() {
    const res = await fetch(zipUrl);
    if (!res.ok) throw new Error(`Failed to fetch icons.zip: ${res.status}`);
    const blob = await res.blob();
    const zip = await JSZip.loadAsync(blob);
    const tasks = [];

    zip.forEach((relativePath, file) => {
      if (file.name.endsWith('.webp')) {
        const task = file.async('blob').then(blobData => {
          const objectURL = URL.createObjectURL(blobData);
          const fileName = file.name.split('/').pop();
          iconsMap[fileName] = objectURL;
        });
        tasks.push(task);
      }
    });

    await Promise.all(tasks);
    iconsReady = true;
    iconWaiters.forEach(fn => fn());
    console.log('Icons loaded:', Object.keys(iconsMap));
  }

  class LinkBox extends HTMLElement {
    static get observedAttributes() {
      return ['name', 'img', 'bg', 'url', 'icon'];
    }

    constructor() {
      super();
      this._render();
    }

    connectedCallback() {
      if (!LinkBox.iconsLoaded) {
        LinkBox.iconsLoaded = true;
        loadIcons().catch(err => console.error(err));
      }
      this._updateAll();
      this._setup3DEffect();
    }

    attributeChangedCallback(name, oldVal, newVal) {
      if (oldVal !== newVal) this._update(name, newVal);
    }

    _render() {
      this.innerHTML = `
        <a class="linkbox-anchor" href="#">
          <div class="linkbox">
            <div class="icon-wrapper">
              <img class="linkbox-img" />
            </div>
            <div class="linkbox-label"></div>
          </div>
        </a>
      `;
      this.$anchor = this.querySelector('.linkbox-anchor');
      this.$iconWrapper = this.querySelector('.icon-wrapper');
      this.$img = this.querySelector('.linkbox-img');
      this.$label = this.querySelector('.linkbox-label');
    }

    _updateAll() {
      ['url', 'bg', 'img', 'name', 'icon'].forEach(attr => {
        const val = this.getAttribute(attr);
        if (val !== null) this._update(attr, val);
      });
    }

    _update(attr, value) {
      switch (attr) {
        case 'url':
          this.$anchor.href = value;
          break;
        case 'bg':
          this.$iconWrapper.style.backgroundColor = value;
          break;
        case 'img':
          this.$img.src = value;
          break;
        case 'name':
          this.$label.textContent = value;
          break;
        case 'icon': {
          const applyIcon = () => {
            const iconUrl = iconsMap[value];
            if (iconUrl) {
              this.$img.src = iconUrl;
            } else {
              console.warn(`Icon not found: ${value}`);
            }
          };
          if (iconsReady) {
            applyIcon();
          } else {
            iconWaiters.push(applyIcon);
          }
          break;
        }
      }
    }

    _setup3DEffect() {
      const wrapper = this.$iconWrapper;
      const img = this.$img;

      wrapper.addEventListener('mousemove', e => {
        const box = wrapper.getBoundingClientRect();
        const mouseX = e.clientX - box.left;
        const mouseY = e.clientY - box.top;

        const rotateY = ((mouseX - box.width / 2) / (box.width / 2)) * 15;
        const rotateX = ((mouseY - box.height / 2) / (box.height / 2)) * -15;

        const moveX = ((mouseX - box.width / 2) / (box.width / 2)) * 10;
        const moveY = ((mouseY - box.height / 2) / (box.height / 2)) * 10;

        wrapper.style.setProperty('--rotateX', `${rotateX}deg`);
        wrapper.style.setProperty('--rotateY', `${rotateY}deg`);
        wrapper.style.setProperty('--moveX', `${moveX}px`);
        wrapper.style.setProperty('--moveY', `${moveY}px`);
        img.style.setProperty('--moveX', `${moveX * 1.2}px`);
        img.style.setProperty('--moveY', `${moveY * 1.2}px`);
      });

      wrapper.addEventListener('mouseleave', () => {
        wrapper.style.setProperty('--rotateX', '0deg');
        wrapper.style.setProperty('--rotateY', '0deg');
        wrapper.style.setProperty('--moveX', '0px');
        wrapper.style.setProperty('--moveY', '0px');
        img.style.setProperty('--moveX', '0px');
        img.style.setProperty('--moveY', '0px');
      });
    }
  }

  customElements.define('link-box', LinkBox);
})();
</script>
</html>
