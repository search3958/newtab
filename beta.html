
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="importmap">
  {
    "imports": {
      "@material/web/": "https://esm.run/@material/web/"
    }
  }
</script>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=M+PLUS+2:wght@100..900&display=swap" rel="stylesheet">

<!-- 그글 탁 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7N56NHPY3C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7N56NHPY3C');
</script>
<title>Newtab 5</title>
<link rel="icon" href="https://search3958.github.io/icons/newtab.svg"><link rel="stylesheet" href="beta/style.css">
<style>body{background-image: url('bgimg/plate3.webp');}</style>
<script>
if ("paintWorklet" in CSS) {
  const workletCode = `
    const drawSquircle=(ctx,geom,radii,smooth,lineWidth,color)=>{const defaultFill=color;const lineWidthOffset=lineWidth/2;ctx.beginPath();ctx.lineTo(radii[0],lineWidthOffset);ctx.lineTo(geom.width-radii[1],lineWidthOffset);ctx.bezierCurveTo(geom.width-radii[1]/smooth,lineWidthOffset,geom.width-lineWidthOffset,radii[1]/smooth,geom.width-lineWidthOffset,radii[1]);ctx.lineTo(geom.width-lineWidthOffset,geom.height-radii[2]);ctx.bezierCurveTo(geom.width-lineWidthOffset,geom.height-radii[2]/smooth,geom.width-radii[2]/smooth,geom.height-lineWidthOffset,geom.width-radii[2],geom.height-lineWidthOffset);ctx.lineTo(radii[3],geom.height-lineWidthOffset);ctx.bezierCurveTo(radii[3]/smooth,geom.height-lineWidthOffset,lineWidthOffset,geom.height-radii[3]/smooth,lineWidthOffset,geom.height-radii[3]);ctx.lineTo(lineWidthOffset,radii[0]);ctx.bezierCurveTo(lineWidthOffset,radii[0]/smooth,radii[0]/smooth,lineWidthOffset,radii[0],lineWidthOffset);ctx.closePath();if(lineWidth){ctx.strokeStyle=defaultFill;ctx.lineWidth=lineWidth;ctx.stroke()}else{ctx.fillStyle=defaultFill;ctx.fill()}};class SquircleClass{static get contextOptions(){return{alpha:true}}static get inputProperties(){return["--squircle-radius","--squircle-radius-top-left","--squircle-radius-top-right","--squircle-radius-bottom-right","--squircle-radius-bottom-left","--squircle-smooth","--squircle-outline","--squircle-fill"]}paint(ctx,geom,properties){const smoothRatio=10;const distanceRatio=1.8;const squircleSmooth=parseFloat(properties.get("--squircle-smooth")*smoothRatio);const individualRadiiProps=SquircleClass.inputProperties.slice(1,5);let squircleRadii=individualRadiiProps.map(prop=>{const value=properties.get(prop);return value?parseInt(value,10)*distanceRatio:NaN});let shorthand_R;if(squircleRadii.some(isNaN)){const radiusRegex=/([0-9]+[a-z%]*)/g;const radius_shorthand=properties.get("--squircle-radius").toString();const matches=radius_shorthand.match(radiusRegex);if(matches){shorthand_R=matches.map(val=>parseInt(val,10)*distanceRatio);while(shorthand_R.length<4){if(shorthand_R.length===1){shorthand_R.push(shorthand_R[0])}else if(shorthand_R.length===2){shorthand_R=[shorthand_R[0],shorthand_R[1],shorthand_R[0],shorthand_R[1]]}else if(shorthand_R.length===3){shorthand_R=[shorthand_R[0],shorthand_R[1],shorthand_R[2],shorthand_R[1]]}}}else{const defaultRadius=squircleRadii.every(isNaN)?8*distanceRatio:0;shorthand_R=[defaultRadius,defaultRadius,defaultRadius,defaultRadius]}}squircleRadii=squircleRadii.map((val,i)=>isNaN(val)?shorthand_R[i]:val);const squrcleOutline=parseFloat(properties.get("--squircle-outline"),10);const squrcleColor=properties.get("--squircle-fill").toString();const isSmooth=()=>{if(typeof properties.get("--squircle-smooth")[0]!=="undefined"){if(squircleSmooth===0){return 1}return squircleSmooth}else{return 10}};const isOutline=()=>{if(squrcleOutline){return squrcleOutline}else{return 0}};const isColor=()=>{if(squrcleColor){return squrcleColor}else{return"#f45"}};const maxRadius=Math.max(...squircleRadii);if(maxRadius<geom.width/2&&maxRadius<geom.height/2){drawSquircle(ctx,geom,squircleRadii,isSmooth(),isOutline(),isColor())}else{const minRadius=Math.min(geom.width/2,geom.height/2);drawSquircle(ctx,geom,squircleRadii.map(()=>minRadius),isSmooth(),isOutline(),isColor())}}}if(typeof registerPaint!=="undefined"){registerPaint("squircle",SquircleClass)}
  `;
  const blob = new Blob([workletCode], { type: 'application/javascript' });
  const blobURL = URL.createObjectURL(blob);
  CSS.paintWorklet.addModule(blobURL);
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
  <button style="display:none" id="pulse" class="small">Wave</button>
  <canvas style="position:fixed;top:0;left:0;height:100vh;width:100vw" id="glcanvas"></canvas>
  <!-- チェックボックス削除、テキストボックスのみ残す -->
  <div class="metaballcontainer">
    <div class="metaBall search" id="1"></div>
    <div class="metaBall" id="2"></div>
    <div class="metaBall" id="3"></div>
    <div class="metaBall" id="4"></div>
  </div>
  <!-- 修正: linkedBallsのidを分かりやすく -->
  <div class="linkedBalls" id="linkedBalls-1">
    
    <input class="searchinput" type="text" name="q" placeholder="検索" id="mainSearchInput">
    <button class="searchbutton" type="submit">
<div class="appswitchicon"></div>
    <span class="material-symbols-outlined iconbig">arrow_forward</span>
  </button>
  </div>
  <div class="linkedBalls settings-btn" id="linkedBalls-2">
    <span class="material-symbols-outlined iconbig">settings</span>
  </div>
  <div class="linkedBalls history" id="linkedBalls-3">
    <span class="material-symbols-outlined iconbig">history</span>
  </div>
  <div class="linkedBalls appswitch" id="linkedBalls-4">
    <span class="material-symbols-outlined iconbig">action_key</span>
  </div>


  <div class="bottombar">
    <div class="shortcuthistory"></div>
    <div class="info">
      <iframe class="today" src="beta/card.html"></iframe>

    </div>
  </div>

        <div class="bg">
          <div class="shortcuts">
              </div>
              <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6151036058675874"
              crossorigin="anonymous"></script>
         <ins class="adsbygoogle naead"
              style="display:block"
              data-ad-format="autorelaxed"
              data-ad-client="ca-pub-6151036058675874"
              data-ad-slot="9559715307"></ins>
         <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
         </script>
</div>

<!-- 설정 -->
<div class="settings-modal" id="settings-modal">
  <div class="settings-modal-content">
    <div class="settings-header">
      <h3>設定</h3>
      <button class="close-settings" type="button">×</button>
    </div>
    <div class="settings-body">
      <div class="setting-item">
        <label for="wallpaper-input">壁紙URL</label>
        <input type="text" id="wallpaper-input" placeholder="壁紙のURLを入力してください">
        <button type="button" id="apply-wallpaper">適用<md-ripple></md-ripple></button>
        <button type="button" onclick="window.location.href='https://search3958.github.io/project/images/?image-url=new'">壁紙一<md-ripple></md-ripple>覧</button>
      </div>
      <div class="setting-item">
        <label for="wallpaper-input">3958アカウント</label>
        <button type="button" onclick="window.location.href='https://search3958.github.io/accounts/'">アカウントを管理<md-ripple></md-ripple></button>
        <button type="button" id="historyBackupFS">履歴をバックアップ<md-ripple></md-ripple></button>
        <button type="button" id="historyRestoreFS">履歴を復元<md-ripple></md-ripple></button>
      </div>
      <div class="setting-item">
        <h4>検索履歴の管理</h4>
        <div class="search-history-list"></div>
        <button type="button" id="clear-search-history">検索履歴をクリア<md-ripple></md-ripple></button>
      </div>
      <div class="setting-item">
        <label>バーのサイズ調整</label>
        <input type="range" id="scale-slider" min="0.7" max="1.3" step="0.1" value="1">
        <label>スムースコーナーの強度</label>
        <input type="range" id="corner-slider" min="0.3" max="6" step="0.1" value="1">
      </div>
      <div class="setting-item full">
        <label for="wallpaper-input">Newtab v5.1 3Beta/</label>
        <button type="button" onclick="window.location.href='https://search3958.github.io/'">私について<md-ripple></md-ripple></button>
        <button type="button" onclick="window.location.href='https://search3958.github.io/i/newtab/'">設定方法<md-ripple></md-ripple></button>
        <button type="button" onclick="window.location.href='https://search3958.github.io/newtab/newtab-simple.html'">簡易版<md-ripple></md-ripple></button>
        <button type="button" onclick="window.location.href='https://search3958.github.io/newtab/beta'">Beta版<md-ripple></md-ripple></button>
      </div>
    </div>
  </div>
</div>

<div class="searchhistory" id="search-history-panel">
  <div class="searchhistory-content">
    <div class="searchhistory-header">
      <h3>検索履歴</h3>
      <button class="close-history" type="button">×</button>
    </div>
    <div class="searchhistory-list" id="searchhistory-list">
    </div>
  </div>
</div>
</body>
<script>
  window.addEventListener("DOMContentLoaded", function () {
    const input = document.querySelector(".searchinput");
    if (input) {
      input.focus();
    }
  });
</script>
<script src="beta/script.js"></script>


  <style>

</style>


</html>