<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<title>Newtab 3</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
<link rel="icon" href="https://search3958.github.io/favicon-newtab.svg">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7N56NHPY3C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7N56NHPY3C');
</script>
<script type="importmap">
    {
      "imports": {
        "@material/web/": "https://esm.run/@material/web/"
      }
    }
  </script>
  <script type="module">
    import '@material/web/all.js';
    import {styles as typescaleStyles} from '@material/web/typography/md-typescale-styles.js';

    document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
  </script>
<script>
  if (CSS && 'paintWorklet' in CSS) {
    CSS.paintWorklet.addModule('https://unpkg.com/smooth-corners');
  }
</script>
    <body>
      <div class="help">
      <p class="helptxt"> 
        <svg viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><style>@keyframes slide-20{to{transform:translateY(-8px)}}</style><path class="svganimation" d="M18.215 13.484a.857.857 0 11-1.098 1.317l-4.594-3.828L7.93 14.8a.857.857 0 11-1.097-1.317l5.131-4.276a.854.854 0 011.12 0l5.132 4.276z" style="animation:slide-20 1s infinite alternate both cubic-bezier(1,-.01,0,.98)"/></svg><br>
        スクロールしてショートカットを表示</p></div>
      <div class="bg-out">
<div class="bg">
  <div class="search-buttons">
        <button class="enginebtn" onclick="setSearchEngine('google')"><md-ripple></md-ripple><img class="engineicon" src="https://search3958.github.io/newtab/img/google.svg"></button>
        <button class="enginebtn" onclick="setSearchEngine('bing')"><md-ripple></md-ripple><img class="engineicon" src="https://search3958.github.io/newtab/img/bing.svg"></button>
        <button class="enginebtn" onclick="setSearchEngine('yahoo')"><md-ripple></md-ripple><img class="engineicon" src="https://search3958.github.io/newtab/img/yahoo.svg"></button>
    <span class="material-symbols-outlined">
more_vert
</span>
        <button class="enginebtn" onclick="setSearchEngine('duckduckgo')"><md-ripple></md-ripple><img class="engineicon" src="https://search3958.github.io/newtab/img/duckduckgo.svg"></button>
        <button class="enginebtn" onclick="setSearchEngine('nenara')"><md-ripple></md-ripple><img class="engineicon" src="https://search3958.github.io/newtab/img/naenara.svg"></button>
        <button class="enginebtn" onclick="setSearchEngine('neighb')"><md-ripple></md-ripple><img class="engineicon" src="https://search3958.github.io/newtab/img/naver.svg"></button>
    </div>
<div class="search">
  <md-ripple></md-ripple>
  <input type="text" id="searchBox" placeholder="" onkeypress="checkEnter(event)" autofocus />
  <button id="searchButton" class="searchbtn">
    <span class="material-symbols-outlined">search</span>
  </button>
</div></div></div><div class="bg-u"><div class="links">
    <div class="history 1"></div>
    <div class="history 2"></div>
    <div class="history 3"></div>
    <div class="history 4"></div>
    <div class="history 5"></div>
    <button id="clearHistory" class="hibtn" style="border:none"><span class="material-symbols-outlined">
delete_history
</span></button>
  </div></div>
  </div>
<div class="shortcut">
  <p class="sc">Google</p><div class="links">
<link-box href="mail.google.com" img="gmail.webp">Gmail</link-box>
<link-box href="classroom.google.com" img="classroom.webp">Classroom</link-box>
<link-box href="youtube.com" img="youtube.webp">Youtube</link-box>
<link-box href="docs.google.com" img="document.webp">Document</link-box>
<link-box href="docs.google.com/presentation/" img="slide.webp">Slide</link-box>
<link-box href="docs.google.com/spreadsheet/" img="spreadsheet.webp">Spreadsheet</link-box>
<link-box href="translate.google.com" img="translate.webp">Translate</link-box>
      <div class="container"> <div class="box"><a id="open-modal4"><img src="https://search3958.github.io/newtab/img/gemini.webp" alt="Gemini"><md-ripple></md-ripple></a></div> <div>Gemini</div> </div>
<link-box href="notebooklm.google.com/" img="notebooklm.webp">Notebook LM</link-box>
<link-box href="about.google/products" img="product.webp">Product</link-box></div>
<p class="sc">学習と作業効率化</p><div class="links">
<link-box href="app.monoxer.com" img="monoxer.webp">Monoxer</link-box>
<link-box href="chatgpt.com" img="chatgpt.webp">Chat GPT</link-box>
<link-box href="copilot.microsoft.com" img="copilot.webp">Copilot</link-box>
<link-box href="codepen.io" img="codepen.webp">Codepen</link-box>
<link-box href="wikipedia.org" img="wikipedia.webp">Wikipedia</link-box>
<link-box href="canva.com" img="canva.webp">Canva</link-box>
<link-box href="www.office.com/?auth=1" img="microsoft365.webp">Microsoft 365</link-box>
<link-box href="turbowarp.org" img="turbowarp.webp">TurboWarp</link-box>
<link-box href="kahoot.it" img="kahoot.webp">Kahoot</link-box>
  </div>
    <p class="sc">ツール</p><div class="links">
  <div class="container"> <div class="box"><a id="open-modal1"><img src="https://search3958.github.io/newtab/img/in-calc.webp" alt="計算機"><md-ripple></md-ripple></a></div> <div>计算器</div> </div>
    <div class="container"> <div class="box"><a id="open-modal2"><img src="https://search3958.github.io/newtab/img/timer.webp" alt="タイマー"><md-ripple></md-ripple></a></div> <div>タイマー</div> </div>
    <div class="container"> <div class="box"><a id="open-modal3"><img src="https://search3958.github.io/newtab/img/stopwatch.webp" alt="ストップウォッチ"><md-ripple></md-ripple></a></div> <div>タイマー</div> </div>
    <div class="container"> <div class="box"><a id="openDialogButton"><img src="https://search3958.github.io/newtab/img/customize.webp" alt="カスタマイズ"><md-ripple></md-ripple></a></div><div>カスタマイズ</div></div>
  </div>
<p class="sc">ショッピング</p><div class="links">
<link-box href="www.amazon.co.jp/" img="amazon.webp">Amazon</link-box>
<link-box href="ja.aliexpress.com/" img="aliexpress.webp">AliExpress</link-box>
<link-box href="www.wish.com/ja" img="wish.webp">Wish</link-box>
<link-box href="jp.mercari.com/" img="mercari.webp">Mercali</link-box>
<link-box href="www.taobao.com/" img="taobao.webp">淘宝</link-box>
  </div>
  <p class="sc"><lang-elm en="Entertainment" jp="娯楽" cn="娱乐" kr="오락"></lang-elm></p><div class="links">
  <link-box href="scratch.mit.edu" img="scratch.webp">Scratch</link-box>
<link-box href="poki.com" img="poki.webp">poki</link-box>
<link-box href="snake.io" img="snakeio.webp">Snake.io</link-box>
<link-box href="www.google.com/logos/2010/pacman10-i.html" img="pacman.webp">PACMAN</link-box>
<link-box href="www.instagram.com/" img="instagram.webp">Instagram</link-box>
<link-box href="www.netflix.com/jp/" img="netflix.webp">Netflix</link-box>
<link-box href="weverse.io/?hl=ja" img="weverse.webp">Weverse</link-box>
<link-box href="www.primevideo.com/ref=atv_nb_lcl_ja_JP" img="primevideo.webp">Prime Video</link-box>
<link-box href="open.spotify.com/intl-ja" img="spotify.webp">Spotify</link-box>
    </div>
  <div class="links">
  <a href="https://forms.gle/TVzQP8dmyeVWbFxz9">要望などがありますか?</a>
    </div>
    <div class="links">
  <a href="https://search3958.github.io/">Search 3958</a>
    </div>
</div>
      <md-dialog id="errorDialog">
  <div slot="headline">検閲</div>
  <div slot="content" id="errorMessage"></div> 
  </md-dialog>
  <md-dialog id="myDialog">
    <div slot="headline">カスタマイズ</div>
    <div slot="content" class="content"> 
      <p>色を選択:</p>
      <input type="color" id="base-color" value="#185af2">
<div style="display: flex;">
      <label id="label-off">
        <input class="hide" type="radio" name="icon-toggle" id="switch-off" value="off" checked> <div class="svgrd"><md-ripple></md-ripple><div class="prev1">Newtab3</div>PNG</div>
    </label>
<label id="label-on">
        <input class="hide" type="radio" name="icon-toggle" id="switch-on" value="on"> <div class="svgrd"><md-ripple></md-ripple><div class="prev2">Newtab3</div>SVG</div>
    </label>
  </div>  
    <label><input class="hide" type="checkbox" id="disable-material3"></input><div class="primary-btn">UIを切り替え<md-ripple></md-ripple></div></label>
    <input type="text" id="urlInput" placeholder="背景画像のURLを入力">
    <button id="setBackgroundButton" class="primary-btn"><md-ripple></md-ripple>背景を設定</button>
      <button id="resetBackgroundButton" class="primary-btn"><md-ripple></md-ripple>リセット</button>
    <p>変更は自動的に保存されます。</p>
    </div>
  </md-dialog>
<div id="modal1" class="modal">
    <div class="modal-content">
        <p>計算機</p>
        <iframe src="https://search3958.github.io/newtab/calc.html" width="290" height="458.19" loading="lazy"></iframe>
        <a href="javascript:void(0)" class="close-btn" id="close-modal1"></a>
    </div>
</div>
<div id="modal2" class="modal">
    <div class="modal-content">
        <p>タイマー</p>
      <iframe src="https://search3958.github.io/newtab/timer.html" width="320" height="458.19" loading="lazy"></iframe>
        <a href="javascript:void(0)" class="close-btn" id="close-modal2"></a>
    </div>
</div>
<div id="modal3" class="modal">
    <div class="modal-content">
        <p>ストップウォッチ</p>
      <iframe src="https://search3958.github.io/newtab/stopwatch.html" width="290" height="458.19" loading="lazy"></iframe>
        <a href="javascript:void(0)" class="close-btn" id="close-modal3"></a>
    </div>
</div>
<md-dialog id="errorDialog">
  <div slot="headline">読み込み中</div>
  <div slot="content" id="errorMessage"></div> 
  </md-dialog>
  <md-dialog id="myDialog">
    <div slot="headline">カスタマイズ</div>
    <div slot="content" class="content"> 
      
      <p>色を選択:</p>
      <input type="color" id="base-color" value="#185af2">
<div style="display: flex;">
      <label id="label-off">
        <input class="hide" type="radio" name="icon-toggle" id="switch-off" value="off" checked> <div class="svgrd"><md-ripple></md-ripple><div class="prev1">Newtab3</div>PNG</div>
    </label>
<label id="label-on">
        <input class="hide" type="radio" name="icon-toggle" id="switch-on" value="on"> <div class="svgrd"><md-ripple></md-ripple><div class="prev2">Newtab3</div>SVG</div>
    </label>
  </div>  
    <label><input class="hide" type="checkbox" id="disable-material3"></input><div class="primary-btn">UIを切り替え<md-ripple></md-ripple></div></label>
    <p>変更は自動的に保存されます。</p>
    </div>
  </md-dialog>
<div id="modal1" class="modal">
    <div class="modal-content">
        <p><lang-elm en="Calculator" jp="計算機" cn="计算器" kr="계산기"></lang-elm></p>
        <iframe src="https://search3958.github.io/newtab/calc.html" width="290" height="458.19" loading="lazy"></iframe>
        <a href="javascript:void(0)" class="close-btn" id="close-modal1"></a>
    </div>
</div>
<div id="modal2" class="modal">
    <div class="modal-content">
        <p><lang-elm en="Timer" jp="タイマー" cn="定时器" kr="타이머"></lang-elm></p>
      <iframe src="https://search3958.github.io/newtab/timer.html" width="320" height="458.19" loading="lazy"></iframe>
        <a href="javascript:void(0)" class="close-btn" id="close-modal2"></a>
    </div>
</div>
<div id="modal3" class="modal">
    <div class="modal-content">
        <p><lang-elm en="Stopwatch" jp="ストップウォッチ" cn="跑表" kr="스톱워치"></lang-elm></p>
      <iframe src="https://search3958.github.io/newtab/stopwatch.html" width="290" height="458.19" loading="lazy"></iframe>
        <a href="javascript:void(0)" class="close-btn" id="close-modal3"></a>
    </div>
</div>
<div id="modal4" class="modal">
    <div class="modal-content" style="width:700px;">
      <p>Gemini</p><a href="https://gemini.google.com/app?hl=ja" style="margin-top:-16px">新しいタブで開く</a>
      <iframe src="https://search3958.github.io/gemini.html" width="700" height="458.19" loading="lazy"></iframe>
        <a href="javascript:void(0)" class="close-btn" id="close-modal4"></a>
    </div>
<script>
    const openDialogButton = document.getElementById('openDialogButton');
    const myDialog = document.getElementById('myDialog');

    openDialogButton.addEventListener('click', () => {
      myDialog.show(); 
    });
  </script>
  </body>
<style>:root{--background-light:#efefef;--background-dark:#222;--element-light:#000;--element-dark:#fff;--link-light:#fff;--link-dark:#111;--search-light:#bbbbbb2e;--search-dark:#0003;--md-ripple-hover-color:#00000030;--md-ripple-pressed-color:#000;--md-dialog-container-color:#fff;--md-dialog-headline-color:#000;--md-dialog-supporting-text-color:#000}*{font-family:"Noto Sans JP",serif;font-optical-sizing:auto;font-weight:200;font-style:normal}.svganimation{fill:#777c;margin:0 auto}.material-symbols-outlined{font-size:24px;font-variation-settings:'FILL'0,'wght'400,'GRAD'0,'opsz'40}body{background-color:var(--background-light);padding:0;margin:0;transition:background-image 0.2s ease;background-attachment:fixed;background-size:cover;background-position:center;scrollbar-width:0;overflow-x:hidden}.helptxt{text-align:center}.help{position:fixed;color:#777c;left:0;top:calc(100vh - 80px);margin:0 auto;width:100vw}.container{perspective:800px;width:192px;height:117px;position:relative;margin:14px 10px;text-align:center;border-radius:40px}.links{justify-content:center;align-items:center;display:flex;flex-wrap:wrap}.box{width:192px;height:117px;border-radius:40px;background-color:var(--link-light);display:flex;align-items:center;justify-content:center;transition:transform 0.2s ease-out;--smooth-corners:6.4,3.6;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners);transform:rotateX(0deg) rotateY(0deg)}img{width:192px;height:117px;position:relative;top:3px}.history,.hibtn{position:relative;margin:4px;padding:8px 16px;background-color:var(--search-light);color:#000;border-radius:16px;backdrop-filter:blur(16px)}.search{margin:16px auto;width:413px;background:var(--search-light);border-radius:25px;--smooth-corners:41,5.5;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners);position:relative;padding:3px;backdrop-filter:blur(24px)}#searchBox{margin:0;width:344px;height:48px;font-size:32px;padding-left:16px;border:none;background:none;outline:none!important;border-radius:100px}.searchbtn{margin:0;width:39px;height:50px;border:none;background:none;text-align:right;transform:scale(1.2);color:var(--element-light);border-radius:100px}.hide{display:none}.engineicon{height:45px;width:45px}#label-off,#label-on{border-radius:30px;text-align:center;background:var(--background-light);padding:0;--smooth-corners:6.0495,4.9105;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners)}.svgrd{padding:7px;transition:all 0.2s ease-out;border-radius:30px;width:107px;position:relative;box-shadow:inset 0 0 0 0 rgba(0,0,0,.3);--smooth-corners:6.0495,4.9105;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners)}.prev1{width:100px;height:39.25px;margin:4px;border-radius:20px;background:linear-gradient(to bottom right,blue,pink);color:#fff;text-align:center;padding-top:17px;--smooth-corners:10,5.623;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners)}.prev2{width:100px;height:39.25px;margin:4px;border-radius:20px;background:var(--link-light);color:#000;text-align:center;padding-top:17px;--smooth-corners:10,5.623;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners)}.primary-btn{text-align:center;border-radius:18px;padding:8px;margin-top:4px;color:#fff;background:var(--element-light);--smooth-corners:24.102,3.599!important;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners);position:relative;border:none}#base-color{border:none;background:none;outline:none;width:100%}.highlight>.svgrd{box-shadow:inset 0 0 0 4px var(--element-light)}#clock{position:fixed;top:35px;right:40px;color:#0008;z-index:100}#myDialog{width:289.01px}.content{display:none}.sc{text-align:center;width:100%;margin-top:24px;font-size:24px;margin-bottom:0}.modal{display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.3);justify-content:center;align-items:center;opacity:0;transition:opacity 0.5s ease}.modal.active{display:flex;opacity:1}iframe{border:none}.modal-content{background:#ffffff90;width:290px;height:516px;border-radius:28px;text-align:center;animation:slideIn 0.5s cubic-bezier(.43,0,0,1);overflow:hidden;backdrop-filter:blur(24px)}a{text-decoration:none;color:#00000080;text-align:center}.close-btn{display:inline-block;margin-top:15px;padding:10px 15px;background:#333;color:#fff;border-radius:5px;text-decoration:none}.history{height:24px}.hibtn{height:40px}@keyframes slideIn{from{transform:translateY(-350px);height:0;backdrop-filter:blur(16px)}to{transform:translateY(0);height:516px;backdrop-filter:blur(16px)}}@keyframes slideOut{from{transform:translateY(0);height:516px}to{transform:translateY(-300px);height:0}}.content::-webkit-scrollbar{display:none}.bg-out{position:fixed;top:calc(50vh - 100px);width:100vw;display:flex;justify-content:center}.bg{display:flex;justify-content:center;gap:8px;margin:0 auto;width:fit-content}.bg-u{position:fixed;top:calc(50vh - 20px);width:100vw}.shortcut{position:relative;top:100vh;background:#ffffff80;padding-top:8px;backdrop-filter:blur(32px)}input#urlInput{margin-top:8px;width:233px;padding:4px;border-radius:15px;border:none;background:#f0f0f0;margin-bottom:8px;--smooth-corners:24.102,3.599!important;mask-image:paint(smooth-corners);-webkit-mask-image:paint(smooth-corners);position:relative}.search-buttons{display:flex;justify-content:center;gap:0;background:var(--search-light);height:57px;width:57px;overflow:hidden;transition:all 0.3s ease;margin-top:15px;border-radius:25px}.search-buttons>.material-symbols-outlined{transition:all 0.3s ease;width:45px;scale:1;position:relative;top:16px}.search-buttons>.enginebtn{transition:all 0.3s ease;scale:0}.search-buttons:hover>.enginebtn{scale:1}.search-buttons:hover{width:320px}.search-buttons:hover>.material-symbols-outlined{width:0;scale:0;top:0}.search-buttons button{padding:0;cursor:pointer;height:45px;border:none;background:none}.enginebtn{position:relative;padding:12px;border-radius:20px;margin:0 4px;margin-top:6px}@media (prefers-color-scheme:dark){:root{--md-ripple-pressed-color:#000;--md-dialog-container-color:#000;--md-dialog-headline-color:#fff;--md-dialog-supporting-text-color:#fff;--md-ripple-hover-color:#00000090}body{background-color:var(--background-dark);color:#fff}.box{background-color:var(--link-dark)}.search{background-color:var(--search-dark)}#searchBox{color:#fff}.primary-btn{background:var(--element-dark)}label{background:var(--background-dark)}.modal-content{background:#00000090!important;color:#fff}.history{background:var(--search-dark);color:#fff}a{color:#ffffff80}#clock{color:#fff8}#label-off,#label-on{background:var(--background-dark);color:fff}.highlight>.svgrd{box-shadow:inset 0 0 0 4px var(--element-dark)}.prev2{background:var(--link-dark);color:#fff}.hibtn{background-color:var(--search-dark);color:#fff}.searchbtn{color:var(--element-dark)}.shortcut{background:#111111a0}.engineicon{filter:invert(1)}.search-buttons{background:var(--search-dark)}}@media (max-width:650px){#clock{display:none}img,.box{width:96px;height:58.5px}.container{width:96px;height:70px}}</style>
<script>let searchEngine='google';function setSearchEngine(engine){searchEngine=engine} const BackgroundManager={init:function(){const savedUrl=localStorage.getItem("backgroundUrl");if(savedUrl){document.body.style.backgroundImage=`url(${savedUrl})`}},setBackground:function(){const url=document.getElementById("urlInput").value;if(url){document.body.style.backgroundImage=`url(${url})`;localStorage.setItem("backgroundUrl",url)}},resetBackground:function(){document.body.style.backgroundImage="";document.getElementById("urlInput").value="";localStorage.removeItem("backgroundUrl")}};document.addEventListener("DOMContentLoaded",function(){BackgroundManager.init();document.getElementById("setBackgroundButton").addEventListener("click",function(){BackgroundManager.setBackground()});document.getElementById("resetBackgroundButton").addEventListener("click",function(){BackgroundManager.resetBackground()})});const specialWords=[];const historyContainer=document.querySelectorAll('.history');document.addEventListener("DOMContentLoaded",function(){document.getElementById("clearHistory").addEventListener("click",function(){localStorage.removeItem('searchHistory');renderHistory()})});const updateHistory=(query)=>{const history=JSON.parse(localStorage.getItem('searchHistory'))||[];history.unshift(query);if(history.length>5)history.pop();localStorage.setItem('searchHistory',JSON.stringify(history));renderHistory()};const renderHistory=()=>{const history=JSON.parse(localStorage.getItem('searchHistory'))||[];historyContainer.forEach((container,index)=>{container.innerHTML=history[index]?`${history[index]}<md-ripple></md-ripple>`:'';container.onclick=()=>{const clickedQuery=history[index];if(clickedQuery){if(clickedQuery.startsWith('http://')||clickedQuery.startsWith('https://')){window.location.href=clickedQuery}else{searchWithQuery(clickedQuery)}}}})};const searchWithQuery=(query)=>{if(specialWords.some(word=>query.includes(word))){document.getElementById('errorMessage').innerText='';const errorDialog=document.getElementById('errorDialog');errorDialog.show();return} updateHistory(query);let url='';switch(searchEngine){case 'google':url=`https://www.google.com/search?q=${encodeURIComponent(query)}`;break;case 'bing':url=`https://www.bing.com/search?q=${encodeURIComponent(query)}`;break;case 'yahoo':url=`https://search.yahoo.co.jp/search?p=${encodeURIComponent(query)}`;break;case 'duckduckgo':url=`https://duckduckgo.com/?q=${encodeURIComponent(query)}`;break;case 'nenara':url=`https://www.naenara.com.kp/main/search_first?sVal=${encodeURIComponent(query)}&csrf_test_name=6967d135751419a455bffcd30a75a654`;break;case 'neighb':url=`https://search.naver.com/search.naver?query=${encodeURIComponent(query)}`;break;default:url=`https://www.google.com/search?q=${encodeURIComponent(query)}`;break} window.location.href=url};const checkEnter=(e)=>{if(e.key==='Enter'){searchGoogle()}};const searchGoogle=()=>{const query=document.getElementById("searchBox").value.trim();if(!query){alert("検索ワードを入力してください");return} if(query.startsWith('http://')||query.startsWith('https://')){window.location.href=query}else{searchWithQuery(query)}};class LinkBox extends HTMLElement{static get observedAttributes(){return['href','img']} constructor(){super();this.render()} attributeChangedCallback(){this.render()} render(){const href=this.getAttribute('href')||'#';const img=this.getAttribute('img')||'';this.innerHTML=` <div class="container"> <div class="box"> <a href="https://${href}"> <img src="https://search3958.github.io/newtab/img/${img}" alt="${this.textContent}"> <md-ripple></md-ripple> </a> </div> <div>${this.textContent}</div> </div>`;this.addMouseEvents(this.querySelector('.container'))} addMouseEvents(container){const box=container.querySelector('.box');container.onmousemove=(e)=>{const{left,top,width,height}=box.getBoundingClientRect();box.style.transform=`rotateX(${-((e.clientY - top) - height / 2) / 6}deg) rotateY(${((e.clientX - left) - width / 2) / 6}deg)`};container.onmouseleave=()=>box.style.transform='rotateX(0) rotateY(0)'}} customElements.define('link-box',LinkBox);window.onload=()=>{document.querySelector('.content').style.display='block';document.getElementById('searchBox').focus();renderHistory()};document.querySelectorAll('.container').forEach(container=>{container.onmousemove=(e)=>{const box=container.querySelector('.box');const{left,top,width,height}=box.getBoundingClientRect();box.style.transform=`rotateX(${-((e.clientY - top) - height / 2) / 6}deg) rotateY(${((e.clientX - left) - width / 2) / 6}deg)`;container.onmouseleave=()=>box.style.transform='rotateX(0) rotateY(0)'}});const adjustColor=(color,amount,isLighten)=>{let[r,g,b]=[parseInt(color.slice(1,3),16),parseInt(color.slice(3,5),16),parseInt(color.slice(5,7),16)];[r,g,b]=isLighten?[Math.min(255,Math.floor(r+(255-r)*amount)),Math.min(255,Math.floor(g+(255-g)*amount)),Math.min(255,Math.floor(b+(255-b)*amount))]:[Math.max(0,Math.floor(r*(1-amount))),Math.max(0,Math.floor(g*(1-amount))),Math.max(0,Math.floor(b*(1-amount)))];return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`};const isDarkMode=()=>window.matchMedia('(prefers-color-scheme: dark)').matches;const updateColors=()=>{const baseColor=document.getElementById('base-color').value;const colors={'--background-light':adjustColor(baseColor,0.9,!0),'--element-light':adjustColor(baseColor,0.1,!1),'--search-light':adjustColor(baseColor,0.8,!0)+'a0','--background-dark':adjustColor(baseColor,0.9,!1),'--element-dark':adjustColor(baseColor,0.4,!0),'--search-dark':adjustColor(baseColor,0.75,!1)+'a0','--link-light':document.getElementById('switch-on').checked?adjustColor(baseColor,0.8,!0):'#ffffff','--link-dark':document.getElementById('switch-on').checked?adjustColor(baseColor,0.3,!1):'#000000',};Object.entries(colors).forEach(([key,value])=>document.documentElement.style.setProperty(key,value));updateImageBrightness(document.getElementById('switch-on').checked);localStorage.setItem('baseColor',baseColor)};const updateImageBrightness=(isSvgChecked)=>{document.querySelectorAll('img').forEach(img=>{img.style.filter=!isDarkMode()&&isSvgChecked&&img.src.endsWith('.svg')?'brightness(0%)':''})};const applyDefaultColors=()=>{const defaultColors={'--background-light':'#efefef','--element-light':'#000000','--background-dark':'#222222','--element-dark':'#ffffff','--text-light':'#ffffff','--text-dark':'#1c1c1c','--link-light':'#ffffff','--link-dark':'#111111','--search-light':'#bbbbbb2e','--search-dark':'#00000033'};Object.entries(defaultColors).forEach(([key,value])=>document.documentElement.style.setProperty(key,value));localStorage.setItem('themeDisabled','true')};const loadColors=()=>{const savedColor=localStorage.getItem('baseColor');const themeDisabled=localStorage.getItem('themeDisabled');restoreSwitchState();document.getElementById('disable-material3').checked=themeDisabled==='true';themeDisabled==='true'?applyDefaultColors():savedColor?(document.getElementById('base-color').value=savedColor,updateColors()):applyDefaultColors()};const saveSwitchState=(isChecked)=>localStorage.setItem('switchState',isChecked?'on':'off');const toggleImages=()=>{const switchOn=document.getElementById('switch-on');const isSvgChecked=switchOn.checked;document.querySelectorAll('img:not(.engineicon)').forEach(img=>{img.src=img.src.replace(isSvgChecked?'.webp':'.svg',isSvgChecked?'.svg':'.webp');img.classList.toggle('background-on',isSvgChecked)});saveSwitchState(isSvgChecked);updateColors();document.getElementById('label-on').classList.toggle('highlight',isSvgChecked);document.getElementById('label-off').classList.toggle('highlight',!isSvgChecked)};const restoreSwitchState=()=>{document.getElementById(localStorage.getItem('switchState')==='on'?'switch-on':'switch-off').checked=!0;toggleImages()};const changeLanguage=(select)=>MachML.setLocale(select.value);document.getElementById('base-color').addEventListener('input',updateColors);document.getElementById('disable-material3').addEventListener('change',function(){this.checked?applyDefaultColors():updateColors();localStorage.setItem('themeDisabled',this.checked)});document.querySelectorAll('input[name="icon-toggle"]').forEach(radio=>radio.addEventListener('change',toggleImages));window.addEventListener('load',loadColors);const userLang=navigator.language||navigator.userLanguage;document.querySelectorAll('lang-elm').forEach(el=>{const text=el.getAttribute(userLang)||el.getAttribute('en');el.style.display='inline';el.innerText=text});function openModal(modalId){const modal=document.getElementById(modalId);modal.style.display='flex';requestAnimationFrame(()=>{modal.classList.add('active')})} function closeModal(modalId){const modal=document.getElementById(modalId);const modalContent=modal.querySelector('.modal-content');modalContent.style.animation='slideOut 0.5s cubic-bezier(0.160, 0.730, 0.320, 1.000) forwards';modalContent.addEventListener('animationend',function(){modal.classList.remove('active');modal.style.display='none';modalContent.style.animation=''},{once:!0})} document.getElementById('open-modal1').addEventListener('click',()=>openModal('modal1'));document.getElementById('open-modal2').addEventListener('click',()=>openModal('modal2'));document.getElementById('open-modal3').addEventListener('click',()=>openModal('modal3'));document.getElementById('open-modal4').addEventListener('click',()=>openModal('modal4'));document.getElementById('close-modal1').addEventListener('click',()=>closeModal('modal1'));document.getElementById('close-modal2').addEventListener('click',()=>closeModal('modal2'));document.getElementById('close-modal3').addEventListener('click',()=>closeModal('modal3'));document.getElementById('close-modal4').addEventListener('click',()=>closeModal('modal4'));const modals=document.querySelectorAll('.modal');modals.forEach(modal=>{modal.addEventListener('click',()=>closeModal(modal.id));
const modalContent=modal.querySelector('.modal-content');modalContent.addEventListener('click',(event)=>event.stopPropagation())});const updateClock=()=>{const now=new Date();const hours=String(now.getHours()).padStart(2,'0');const minutes=String(now.getMinutes()).padStart(2,'0');const seconds=String(now.getSeconds()).padStart(2,'0');document.getElementById("clock").innerText=`${hours}:${minutes}:${seconds}`};window.onload=()=>{document.querySelector('.content').style.display='block';document.getElementById('searchBox').focus();renderHistory();updateClock();setInterval(updateClock,1000)};const applyCustomColor=()=>{const isDisabled=document.getElementById('disable-material3').checked;if(isDisabled){applyDefaultColors()}else{updateColors()} localStorage.setItem('themeDisabled',isDisabled)};document.getElementById('base-color').addEventListener('input',()=>{document.getElementById('disable-material3').checked=!1;updateColors();applyCustomColor()});document.getElementById('disable-material3').addEventListener('change',applyCustomColor);document.querySelectorAll('input[name="icon-toggle"]').forEach(radio=>{radio.addEventListener('change',()=>{toggleImages();applyCustomColor()})})</script>
</html>
